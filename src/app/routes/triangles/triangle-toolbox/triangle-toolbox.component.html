<div class="toolbox">
  <div class="triangle-toolbox" [ngClass]="mode + '-mode'">

    <!-- T Selector -->
    <div class="tea-wrapper">
      <span class="tea">T</span>
      <span class="spinner-wrapper">
        <p-spinner maxlength="4" [size]="5" [min]="1" [max]="1001" [ngModel]="rowCount" (ngModelChange)="onChangeRowCount($event)"
                   [inputStyle]="{'padding': '0 5px', 'font-size': '18px', 'font-weight': 'bold'}"></p-spinner>
      </span>
      <!-- Active color -->
      <div class="active-color">
        <div class="active-color-1" [ngClass]="mode === 'line' ? 'appBlackBg' : color + 'Bg'"></div>
        <div class="active-color-2" [ngClass]="color + 'Bg'"></div>
      </div>
    </div>

    <hr class="sep1">

    <!-- Mode buttons -->
    <div class="btn-toolbar" role="toolbar">
      <div class="btn-group mr-2 mb-2" role="group">
        <button class="btn btn-dark btn-sm paint-mode" title="Paint Mode" [class.active]="mode==='paint'" (click)="onChangeModeClick('paint')">
          <i class="fa fa-paint-brush" aria-hidden="true"></i>
        </button>
        <button class="btn btn-dark btn-sm image-icon line-mode" title="Line Mode" [class.active]="mode==='line'"
                (click)="onChangeModeClick('line')"></button>
        <button class="btn btn-dark btn-sm image-icon fill-mode" title="Fill Mode" [class.active]="mode==='fill'"
                (click)="onChangeModeClick('fill')"></button>
      </div>
      <span class="mode">{{ mode | titlecase }}</span>
    </div>

    <hr class="sep2">

    <!-- Ever present buttons -->
    <div class="btn-toolbar" role="toolbar">
      <div class="btn-group mr-2 mb-2" role="group">
        <button class="btn btn-dark btn-sm" title="Clear All Counters" (click)="onClearAllClick()">
          <i class="fa fa-circle appGrey" aria-hidden="true"></i>
        </button>
        <ng-container *ngIf="color !== 'appGrey'">
          <button class="btn btn-dark btn-sm" [title]="'Clear ' + color.replace('app', '') + ' Counters'" (click)="onClearColorClick()">
            <i class="fa fa-circle" [ngClass]="color" aria-hidden="true"></i>
          </button>
        </ng-container>
      </div>
      <div class="btn-group mr-2 mb-2" role="group">
        <button class="btn btn-dark btn-sm" title="Toggle Align" (click)="onToggleAlign()">
          <i class="fa" [ngClass]="alignCenter ? 'fa-align-center' : 'fa-align-left'" aria-hidden="true"></i>
        </button>
      </div>
    </div>

    <ng-container *ngIf="mode === 'line'">
      <hr class="sep2">

      <!-- Function buttons -->
      <div class="btn-toolbar" role="toolbar">
        <div class="btn-group mr-2 mb-2" role="group">
          <button class="btn btn-dark btn-sm" title="Clear Active" (click)="onClearActiveClick()">
            <i class="fa fa-circle appActive" aria-hidden="true"></i>
          </button>
        </div>
        <div class="btn-group mr-2 mb-2" role="group">
          <button class="btn btn-dark btn-sm" title="Draw Lines" (click)="onDrawLinesClick()">
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </button>
          <button class="btn btn-dark btn-sm" title="Erase Lines" (click)="onEraseLinesClick()">
            <i class="fa fa-eraser" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </ng-container>

    <hr class="sep2">

    <!-- Color buttons -->
    <div class="btn-toolbar" role="toolbar">
      <div class="btn-group mr-2 mb-2" role="group">
        <button class="btn btn-dark btn-sm color" [class.active]="color==='appGrey'" (click)="onChangeColorClick('appGrey')">
          <i class="fa fa-circle appGrey" aria-hidden="true"></i>
        </button>
        <button class="btn btn-dark btn-sm color" [class.active]="color==='appRed'" (click)="onChangeColorClick('appRed')">
          <i class="fa fa-circle appRed" aria-hidden="true"></i>
        </button>
        <button class="btn btn-dark btn-sm color" [class.active]="color==='appPink'" (click)="onChangeColorClick('appPink')">
          <i class="fa fa-circle appPink" aria-hidden="true"></i>
        </button>
        <button class="btn btn-dark btn-sm color" [class.active]="color==='appGreen'" (click)="onChangeColorClick('appGreen')">
          <i class="fa fa-circle appGreen" aria-hidden="true"></i>
        </button>
        <button class="btn btn-dark btn-sm color" [class.active]="color==='appOrange'" (click)="onChangeColorClick('appOrange')">
          <i class="fa fa-circle appOrange" aria-hidden="true"></i>
        </button>
        <button class="btn btn-dark btn-sm color" [class.active]="color==='appBlue'" (click)="onChangeColorClick('appBlue')">
          <i class="fa fa-circle appBlue" aria-hidden="true"></i>
        </button>
      </div>
    </div>

    <hr class="sep2">

    <!-- Counter values dropdown -->
    <div class="select-counter-values">
      <p-dropdown [options]="counterValuesOptions" [(ngModel)]="counterValuesOption" (onChange)="changeCounterValues($event)"
                  [showTransitionOptions]="'0ms'" [hideTransitionOptions]="'0ms'"></p-dropdown>
    </div>

    <!-- Counter values related buttons -->
    <ng-container *ngIf="counterValuesOption !== 'none'">
      <div class="value-related-buttons">
        <div class="btn-toolbar" role="toolbar">
          <div class="btn-group mr-2 mb-2" role="group">
            <button class="btn btn-dark btn-sm" title="Toggle Show Values" (click)="onToggleShowValues()">
              <i class="fa" [ngClass]="showValues ? 'fa-eye' : 'fa-eye-slash'" aria-hidden="true"></i>
            </button>
          </div>
          <div class="btn-group mr-2 mb-2" role="group">
            <button class="btn btn-dark btn-sm image-icon odd" title="Select Counters with Odd Values" (click)="onSelectOdd()"></button>
            <button class="btn btn-dark btn-sm image-icon even" title="Select Counters with Even Values" (click)="onSelectEven()"></button>
          </div>
        </div>
      </div>
    </ng-container>

    <!-- Activate dropdown -->
    <ng-container *ngIf="mode === 'line'">
      <hr class="sep2">
      <div class="activate-counters">
        <p-dropdown [options]="activateCountersOptions" [(ngModel)]="activateCountersOption" (onChange)="activateCounters($event)"
                    [showTransitionOptions]="'0ms'" [hideTransitionOptions]="'0ms'"></p-dropdown>
      </div>
    </ng-container>
  </div>

  <!-- Star of David -->
  <ng-container *ngIf="starOfDavid">
    <div class="star">
      <i class="fa fa-star fa-5x" aria-hidden="true" [title]="'T' + rowCount + ' houses a star of David (S' + starOfDavid.n + ') perfectly'"></i>
      <div class="term" [title]="'T' + rowCount + ' houses a star of David (S' + starOfDavid.n + ') perfectly'">{{ starOfDavid.term }}</div>
    </div>
  </ng-container>
</div>
